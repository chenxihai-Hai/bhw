(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d760ddc"],{"12a8":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"listWarp",staticStyle:{padding:"22px 16px 0"}},[a("div",{staticClass:"bgColorF",staticStyle:{padding:"0 25px 100px"}},[a("h3",[t._v("订单分析")]),a("el-row",{staticClass:"statisticBox",staticStyle:{"margin-top":"68px"},attrs:{type:"flex",justify:"space-around"}},[a("el-col",[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticStyle:{margin:"50px 0"}},[a("span",[t._v("本周订单数")]),a("label",{staticStyle:{"font-size":"30px","font-family":"'Microsoft YaHei'","font-weight":"400",color:"rgba(2,78,204,1)"}},[t._v(" "+t._s(t.weekMaxOrders)+" ")])])])],1),a("el-col",[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticStyle:{margin:"50px 0"}},[a("span",[t._v("本周支付订单总量")]),a("label",{staticStyle:{"font-size":"30px","font-family":"'Microsoft YaHei'","font-weight":"400",color:"rgba(247,74,13,1)"}},[t._v(" "+t._s(t.weekDelaOrders.toFixed(2))+" ")])])])],1),a("el-col",[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticStyle:{margin:"50px 0"}},[a("span",[t._v("本周取消订单量")]),a("label",{staticStyle:{"font-size":"30px","font-family":"'Microsoft YaHei'","font-weight":"400",color:"rgba(247,74,13,1)"}},[t._v(" "+t._s(t.weekRefunds)+" ")])])])],1),a("el-col",[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticStyle:{margin:"50px 0"}},[a("span",[t._v("本周被投诉订单量")]),a("label",{staticStyle:{"font-size":"30px","font-family":"'Microsoft YaHei'","font-weight":"400",color:"rgba(247,74,13,1)"}},[t._v(" "+t._s(t.weekRefunds)+" ")])])])],1)],1),a("el-row",{staticClass:"echartBox",attrs:{type:"flex",justify:"space-around"}},[a("el-col",[a("div",{staticStyle:{width:"100%",height:"400px",padding:"20px 10px 0px 30px"},attrs:{id:"daysSt"}})]),a("el-col",[a("div",{staticStyle:{width:"100%",height:"400px",padding:"20px 10px 0px 20px"},attrs:{id:"weekSt"}})])],1),t._m(0)],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mark"},[a("p",[t._v("注：环比增长率（本期数-上期数）/上期数X100% 反映本期比上期订单数的增长速度")])])}],i=(a("99af"),a("4160"),a("0d03"),a("d3b7"),a("acd8"),a("3ca3"),a("159b"),a("ddb0"),a("823d")),n={name:"orderStatistics",data:function(){return{daysOrders:[],hOrders:[],weekMaxOrders:0,weekDelaOrders:0,weekRefunds:0,yWeeks:[],yWeeksDatas:[]}},methods:{dateAddDays:function(t,e){var a=e||new Date,r=new Date(1e3*(a/1e3+86400*t));return r},loadDaysData:function(){var t=this,e={createTime:this.dateAddDays(0,null).format("yyyy-MM-dd"),updateTime:this.dateAddDays(0,null).format("yyyy-MM-dd")},a={createTime:this.dateAddDays(-1,null).format("yyyy-MM-dd"),updateTime:this.dateAddDays(-1,null).format("yyyy-MM-dd")},r=[],s=new Promise((function(t,a){Object(i["b"])(e).then((function(e){t(e.data)}))}));r.push(s);var n=new Promise((function(t,e){Object(i["b"])(a).then((function(e){t(e.data)}))}));r.push(n),Promise.all(r).then((function(e){var a=0,r=0,s=0,i=0,n=0,o=0;e.forEach((function(t,e){t.forEach((function(t){0==t.dealType&&(0==e?a++:i++),1==t.dealType&&(0==e?r++:n++),3==t.dealType&&(0==e?s++:o++)}))}));var d=(a-i)/i*100,c=(r-n)/n*100,l=(s-o)/o*100;t.daysOrders.push(r),t.daysOrders.push(s),t.daysOrders.push(a),t.hOrders.push(c),t.hOrders.push(l),t.hOrders.push(d),t.loadDaysSt()}))},loadDaysSt:function(){var t=this.$echarts.init(document.getElementById("daysSt")),e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["每日订单环比","订单量"]},toolbox:{show:!1},calculable:!0,xAxis:[{type:"value"}],yAxis:[{type:"category",data:["充值T币","增值服务","产品交易"]}],series:[{name:"每日订单环比",type:"bar",stack:"总量",itemStyle:{normal:{color:"#024ECC",label:{show:!0,position:"insideRight"}}},data:this.hOrders},{name:"订单量",type:"bar",stack:"总量",itemStyle:{normal:{color:"#F74A0D",label:{show:!0,position:"insideRight"}}},data:this.daysOrders}]};t.setOption(e)},loadWeekData:function(){var t=this,e=new Date,a=e.getDay()||7;e.setDate(e.getDate()-a+1);var r={createTime:e.format("yyyy-MM-dd"),updateTime:this.dateAddDays(6,e).format("yyyy-MM-dd")};Object(i["b"])(r).then((function(a){t.weekMaxOrders=a.page.counts;var s=0,n=0;a.data.forEach((function(t){s+=parseFloat(t.totalPrice),t.refundStatus>0&&n++})),t.weekDelaOrders=s,t.weekRefunds=n;var o=new Date,d=new Date;d.setMonth(0),d.setDate(1);var c=o-d,l=Math.ceil(c/864e5),u=Math.ceil(l/7),y=[];t.yWeeks.push("本周"),t.yWeeksDatas.push(t.weekMaxOrders);for(var p=u;p>0;p--){t.yWeeks.push("本年第"+p+"周");var f=new Promise((function(a,s){e=t.dateAddDays(-1,e);var n=e.getDay()||7;e.setDate(e.getDate()-n+1),r={createTime:e.format("yyyy-MM-dd"),updateTime:t.dateAddDays(6,e).format("yyyy-MM-dd")},Object(i["b"])(r).then((function(t){a(t.page.counts)}))}));y.push(f)}Promise.all(y).then((function(e){t.yWeeksDatas=t.yWeeksDatas.concat(e),t.loadWeekSt()}))}))},loadWeekSt:function(){var t=this.$echarts.init(document.getElementById("weekSt")),e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["订单总量"]},toolbox:{show:!0,orient:"vertical",x:"right",y:"center"},calculable:!0,xAxis:[{type:"category",data:this.yWeeks}],yAxis:[{type:"value"}],series:[{name:"订单总量",type:"bar",data:this.yWeeksDatas,itemStyle:{normal:{color:"#024ECC"}}}]};t.setOption(e)}},mounted:function(){this.loadDaysData(),this.loadWeekData()}},o=n,d=(a("eee8"),a("2877")),c=Object(d["a"])(o,r,s,!1,null,"269cbeaf",null);e["default"]=c.exports},"3ca3":function(t,e,a){"use strict";var r=a("6547").charAt,s=a("69f3"),i=a("7dd0"),n="String Iterator",o=s.set,d=s.getterFor(n);i(String,"String",(function(t){o(this,{type:n,string:String(t),index:0})}),(function(){var t,e=d(this),a=e.string,s=e.index;return s>=a.length?{value:void 0,done:!0}:(t=r(a,s),e.index+=t.length,{value:t,done:!1})}))},"6fe5":function(t,e,a){var r=a("da84"),s=a("58a8").trim,i=a("5899"),n=r.parseFloat,o=1/n(i+"-0")!==-1/0;t.exports=o?function(t){var e=s(String(t)),a=n(e);return 0===a&&"-"==e.charAt(0)?-0:a}:n},"823d":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"e",(function(){return d}));var r=a("dad6");function s(t){return Object(r["a"])({url:"/api/serverManage/dw/backQryOrderList",params:t,method:"get"})}function i(t){return Object(r["a"])({url:"/api/userApi/userWallet/backQryPayDealList",params:t,method:"get"})}function n(t){return Object(r["a"])({url:"/api/payApi/order/upOrderCloseSt",params:t,method:"post"})}function o(t){return Object(r["a"])({url:"/api/userApi/userWallet/qryUserWithdrawList",params:t,method:"get"})}function d(t){return Object(r["a"])({url:"/api/userApi/userWallet/upUserWithdraw",params:t,method:"post"})}},acd8:function(t,e,a){var r=a("23e7"),s=a("6fe5");r({global:!0,forced:parseFloat!=s},{parseFloat:s})},ddb0:function(t,e,a){var r=a("da84"),s=a("fdbc"),i=a("e260"),n=a("9112"),o=a("b622"),d=o("iterator"),c=o("toStringTag"),l=i.values;for(var u in s){var y=r[u],p=y&&y.prototype;if(p){if(p[d]!==l)try{n(p,d,l)}catch(h){p[d]=l}if(p[c]||n(p,c,u),s[u])for(var f in i)if(p[f]!==i[f])try{n(p,f,i[f])}catch(h){p[f]=i[f]}}}},eee8:function(t,e,a){"use strict";var r=a("f079"),s=a.n(r);s.a},f079:function(t,e,a){}}]);
//# sourceMappingURL=chunk-3d760ddc.e2c07cb7.js.map