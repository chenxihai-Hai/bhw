(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8cb8afaa"],{5660:function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"listWarp",staticStyle:{padding:"22px 16px 0"}},[l("div",{staticClass:"bgColorF",staticStyle:{padding:"0 25px"}},[l("h3",[t._v("检索参数")]),l("el-form",{staticClass:"demo-form-inline",staticStyle:{margin:"33px 40px"},attrs:{inline:!0,model:t.formInline}},[l("el-form-item",{attrs:{label:"供需选择",prop:"resource"}},[l("el-radio-group",{model:{value:t.formInline.checkType,callback:function(e){t.$set(t.formInline,"checkType",e)},expression:"formInline.checkType"}},[l("el-radio",{attrs:{label:"1"}},[t._v("供（我要卖）")]),l("el-radio",{attrs:{label:"2"}},[t._v("需（我要买）")])],1)],1),l("el-form-item",{attrs:{label:"供需类别：",prop:"name"}},[l("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择 "},model:{value:t.formInline.businessType,callback:function(e){t.$set(t.formInline,"businessType",e)},expression:"formInline.businessType"}},t._l(t.options,(function(t){return l("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),l("el-form-item",{attrs:{label:"技术名称：",prop:"name"}},[l("el-input",{attrs:{placeholder:"选填"},model:{value:t.formInline.techName,callback:function(e){t.$set(t.formInline,"techName",e)},expression:"formInline.techName"}})],1),l("el-form-item",{attrs:{label:"行业类型：",prop:"name"}},[l("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择 "},model:{value:t.formInline.intellectualType,callback:function(e){t.$set(t.formInline,"intellectualType",e)},expression:"formInline.intellectualType"}},t._l(t.leixinselect,(function(t){return l("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),l("el-form-item",[l("el-button",{staticClass:"btnColorOrg btnQueryList",on:{click:function(e){return t.loadOrderData()}}},[t._v("查询")])],1)],1),l("el-row",{staticStyle:{"margin-bottom":"30px"}},[l("el-col",[l("el-button",{staticClass:"btnColorOrg btnQueryList",on:{click:function(e){return t.handleDel(void 0)}}},[t._v("一键下架")]),l("el-button",{staticClass:"btnColorBlue btnQueryList",attrs:{type:"primary"},on:{click:t.addOlogyBtn}},[t._v("添加")])],1)],1),l("el-table",{staticClass:"allTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{fixed:"",type:"selection",width:"54"}}),l("el-table-column",{attrs:{fixed:"",label:"编码",type:"index",width:"50"}}),l("el-table-column",{attrs:{fixed:"",prop:"techName",label:"技术名称",width:"120","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{prop:"checkTypeName",label:"供/需",width:"80"}}),l("el-table-column",{attrs:{prop:"originalPrice",label:"原价",width:"80"}}),l("el-table-column",{attrs:{prop:"price",label:"售价",width:"80"}}),l("el-table-column",{attrs:{prop:"budget",label:"预算",width:"80"}}),l("el-table-column",{attrs:{prop:"businessName",label:"供需类别",width:"100"}}),l("el-table-column",{attrs:{prop:"intellectualName",label:"行业类别",width:"100"}}),l("el-table-column",{attrs:{prop:"publisher",label:"发布人/企业",width:"120","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{prop:"contactName",label:"联系人",width:"80","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{prop:"contactPhone",label:"联系方式",width:"120"}}),l("el-table-column",{attrs:{prop:"contactUnit",label:"联系单位",width:"120","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{prop:"cutoffDate",label:"截止日期",width:"120"}}),l("el-table-column",{attrs:{prop:"keyWord",label:"关键字",width:"100","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{prop:"address",label:"所在地",width:"100"}}),l("el-table-column",{attrs:{label:"状态",width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-switch",{attrs:{value:e.row.status+"","inactive-value":"3","active-value":"2","active-color":"#024ECC","inactive-color":"#DCDCDC"},on:{change:function(l){return t.switchCk(e.row.status,e.row)}}}),2==e.row.status?[t._v(" 正常 ")]:t._e(),3==e.row.status?[t._v(" 已下架 ")]:t._e()]}}])}),l("el-table-column",{attrs:{label:"操作",fixed:"right",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{staticClass:"btnColorOrg btnUser",staticStyle:{width:"58px"},attrs:{size:"mini",type:"primary"},on:{click:function(l){return t.handleUp(e.row)}}},[t._v("编辑")]),2==e.row.status?l("el-button",{staticClass:"btnColorBlue btnUser",attrs:{size:"mini",type:"primary"},on:{click:function(l){return t.handleDel(e.row)}}},[t._v("下架")]):t._e(),3==e.row.status?l("el-button",{staticClass:"btnColorBlue btnUser",attrs:{size:"mini",type:"primary"},on:{click:function(l){return t.upHandleDel(e.row)}}},[t._v("上架")]):t._e(),l("br"),l("el-button",{staticClass:"btnColorOrg btnUser",staticStyle:{width:"58px","margin-top":"5px"},attrs:{size:"mini"},on:{click:function(l){return t.delInfo(e.row)}}},[t._v("删除")])]}}])})],1),l("div",{staticClass:"pageWrap",staticStyle:{"text-align":"center"}},[l("el-pagination",{staticClass:"pageBox",attrs:{background:"",layout:"prev, pager, next","page-size":t.formInline.pageSize,"current-page":t.formInline.curPage,total:t.pageTotal},on:{"current-change":t.currentChange}})],1)],1),l("technicalUploading",{ref:"ologyUploadingRef"})],1)},n=[],o=(l("4160"),l("a15b"),l("159b"),l("95c8")),i=l("872c"),r=l("7984"),s=l("c150"),c={name:"techologyList",comments:{technicalUploading:s["default"]},data:function(){return{formInline:{checkType:null,businessType:null,techName:null,intellectualType:null,pageSize:3,curPage:1},pageTotal:0,options:[{id:"1",name:"测试类别"}],leixinselect:[{value:"1",label:"类型"}],tableData:[{id:"",techName:"黄辉里",checkTypeName:"供",originalPrice:"面谈",price:"售价",budget:"预算",businessName:"技术难题",intellectualName:"电子信息",publisher:"黄辉里",contactName:"黄辉里",contactPhone:"13777722222",contactUnit:"北海技术",cutoffDate:"2019-02-03",keyWord:"关键字",address:"广西北海",content:""}],productSelect:[]}},created:function(){var t=this;Object(i["b"])({type:16}).then((function(e){t.options=e.data})),Object(r["a"])().then((function(e){t.leixinselect=e.data})),this.loadOrderData()},methods:{delInfo:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["a"])({ids:t.id}).then((function(t){e.loadOrderData(),e.$message({type:"success",message:"删除成功!"})}))})).catch((function(){}))},handleSelectionChange:function(t){this.productSelect=t},addOlogyBtn:function(){this.$nextTick((function(){this.$refs.ologyUploadingRef.ologyDialogVisible=!0}))},handleUp:function(t){var e=this;Object(i["d"])({id:t.id}).then((function(t){e.$nextTick((function(){this.$refs.ologyUploadingRef.productinfo=t.data,this.$refs.ologyUploadingRef.productinfo.cityId=null,this.$refs.ologyUploadingRef.productinfo.cutoffDate=null,this.$refs.ologyUploadingRef.productinfo.createTime=null,this.$refs.ologyUploadingRef.ologyDialogVisible=!0}))}))},upHandleDel:function(t){var e=this;Object(i["h"])({id:t.id,status:2}).then((function(t){e.$message({type:"success",message:"操作成功!"}),e.loadOrderData()}))},switchCk:function(t,e){2==t?this.handleDel(e):this.upHandleDel(e)},handleDel:function(t){var e=this;void 0==t&&this.productSelect.length<1?this.$message.error("请勾选数据!"):this.$confirm("此操作将下架选择信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"btnColorOrg",confirmButtonClass:"btnColorBlue",type:"warning"}).then((function(){var l=[];t?l.push(t.id):e.productSelect.forEach((function(t){l.push(t.id)})),Object(i["g"])({idList:l.join(",")}).then((function(l){e.$message({type:"success",message:"操作成功!"});var a={operateName:e.$store.getters.userName,operateId:e.$store.getters.backUserId,content:void 0!=t?"对技术供需下的产品("+t.serverName+")进行了下架":"对技术供需下的产品进行了批量下架"};Object(o["e"])(a).then(),e.loadOrderData()}))})).catch((function(){}))},currentChange:function(t){this.formInline.curPage=t,this.loadOrderData()},loadOrderData:function(){var t=this;Object(i["c"])(this.formInline).then((function(e){t.tableData=e.data,t.pageTotal=e.page.counts}))},handleArgee:function(t,e){var l=this,a={type:1,idList:e.id};infoAudit(a).then((function(t){t.data?l.$message.success("成功通过!"):l.$message.error("通过失败!")}))},handleDisAgree:function(t,e){var l=this,a={type:2,idList:e.id};infoAudit(a).then((function(t){t.data?l.$message.success("成功驳回!"):l.$message.error("驳回失败!")}))}}},u=c,d=l("2877"),p=Object(d["a"])(u,a,n,!1,null,"23ad67f0",null);e["default"]=p.exports},a15b:function(t,e,l){"use strict";var a=l("23e7"),n=l("44ad"),o=l("fc6a"),i=l("b301"),r=[].join,s=n!=Object,c=i("join",",");a({target:"Array",proto:!0,forced:s||c},{join:function(t){return r.call(o(this),void 0===t?",":t)}})}}]);
//# sourceMappingURL=chunk-8cb8afaa.a77825d6.js.map