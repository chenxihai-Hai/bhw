(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-692d0f11"],{"4e101":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"listWarp",staticStyle:{padding:"22px 16px 0"}},[n("div",{staticClass:"bgColorF",staticStyle:{padding:"0 25px"}},[n("h3",[t._v("检索参数")]),n("el-form",{staticClass:"demo-form-inline",staticStyle:{margin:"33px 40px"},attrs:{inline:!0,model:t.formInline}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.formInline.title,callback:function(e){t.$set(t.formInline,"title",e)},expression:"formInline.title"}})],1),n("el-form-item",{attrs:{label:"类型"}},[n("el-input",{attrs:{placeholder:"请输入类型"},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}})],1),n("el-form-item",{attrs:{label:"时间"}},[n("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.formInline.date,callback:function(e){t.$set(t.formInline,"date",e)},expression:"formInline.date"}})],1),n("el-form-item",[n("el-button",{staticClass:"btnColorOrg btnSchool",on:{click:t.qryNewsList}},[t._v("查询")]),n("el-button",{staticClass:"btnColorBlue btnQueryList",attrs:{type:"primary"},on:{click:t.addNews}},[t._v("添加")])],1)],1),n("el-table",{staticClass:"allTable",attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"subject",label:"标题","show-overflow-tooltip":!0}}),n("el-table-column",{attrs:{label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?[t._v(" 国际动态 ")]:2==e.row.type?[t._v(" 国家动态 ")]:3==e.row.type?[t._v(" 地方动态 ")]:4==e.row.type?[t._v(" 通知通告 ")]:t._e()]}}])}),n("el-table-column",{attrs:{prop:"picture",label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.img,"preview-src-list":[t.row.img]}})]}}])}),n("el-table-column",{attrs:{label:"内容",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"#024ECC",cursor:"pointer"},on:{click:function(n){return t.showCt(e.row.html)}}},[t._v("预览")])]}}])}),n("el-table-column",{attrs:{prop:"userName",label:"发表人"}}),n("el-table-column",{attrs:{prop:"createTime",label:"发表时间"}}),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"btnColorOrg",staticStyle:{width:"59px",height:"24px"},attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(e.row)}}},[t._v("编辑 ")]),n("el-button",{staticClass:"btnColorBlue",staticStyle:{width:"59px",height:"24px"},attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.handleDelete(e.row)}}},[t._v("删除 ")])]}}])})],1),n("el-row",{staticStyle:{"text-align":"center",margin:"30px auto 50px"}},[n("el-col",{staticClass:"pageWrap"},[n("el-pagination",{staticClass:"pageBox",attrs:{background:"",layout:"prev, pager, next","page-size":t.formInline.pageSize,"current-page":t.formInline.curPage,total:t.pageTotal},on:{"current-change":t.currentChange}})],1)],1),n("el-dialog",{staticClass:"serviceDialog",attrs:{title:"内容预览",visible:t.showHtmlCt,width:"60%"},on:{"update:visible":function(e){t.showHtmlCt=e}}},[n("div",{staticClass:"ql-editor",domProps:{innerHTML:t._s(t.shtml)}})]),t.insertNewsFlag?n("insertNews",{ref:"insertNewRef"}):t._e()],1)])},l=[],i=(n("a15b"),n("a753"),n("8096"),n("14e1"),n("95c8")),s=n("d77d"),r=n("6ec5"),o={name:"select-news",comments:{insertNews:r["default"]},data:function(){return{showHtmlCt:!1,insertNewsFlag:!1,shtml:"",formInline:{title:null,type:null,date:"",pageSize:5,curPage:1},pageTotal:0,tableData:[]}},mounted:function(){this.qryNewsList()},methods:{showCt:function(t){this.shtml=t,this.showHtmlCt=!0},addNews:function(){this.insertNewsFlag=!0,this.$nextTick((function(){this.$refs.insertNewRef.newsDialogVisible=!0}))},qryNewsList:function(){var t=this;Object(s["b"])(this.formInline).then((function(e){t.tableData=e.data,t.pageTotal=e.page.counts}))},currentChange:function(t){this.formInline.curPage=t,this.qryNewsList()},handleSelect:function(){},handleEdit:function(t){this.insertNewsFlag=!0,this.$nextTick((function(){this.$refs.insertNewRef.insertData=t,this.$refs.insertNewRef.insertData.img=void 0==this.$refs.insertNewRef.insertData.img?"":this.$refs.insertNewRef.insertData.img,this.$refs.insertNewRef.newsDialogVisible=!0}))},handleDelete:function(t){var e=this;this.$confirm("确认删除该信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"btnColorOrg",confirmButtonClass:"btnColorBlue",type:"warning"}).then((function(){var n=[];n.push(t.id),Object(s["a"])({ids:n.join(",")}).then((function(n){var a={operateName:e.$store.getters.userName,operateId:e.$store.getters.backUserId,content:"在新闻通告栏下删除了"+t.subject};Object(i["e"])(a).then(),e.$message.success("删除成功"),e.qryNewsList()}))})).catch((function(){}))}}},c=o,u=n("2877"),f=Object(u["a"])(c,a,l,!1,null,null,null);e["default"]=f.exports},a15b:function(t,e,n){"use strict";var a=n("23e7"),l=n("44ad"),i=n("fc6a"),s=n("b301"),r=[].join,o=l!=Object,c=s("join",",");a({target:"Array",proto:!0,forced:o||c},{join:function(t){return r.call(i(this),void 0===t?",":t)}})}}]);
//# sourceMappingURL=chunk-692d0f11.ec21eb22.js.map