(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-169219a9"],{7198:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"listWarp",staticStyle:{padding:"22px 16px 0"}},[r("div",{staticClass:"bgColorF",staticStyle:{padding:"0 25px"}},[r("h3",[e._v("检索参数")]),r("el-form",{staticClass:"demo-form-inline",staticStyle:{margin:"33px 40px"},attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{attrs:{label:"供需选择",prop:"resource"}},[r("el-radio-group",{model:{value:e.formInline.checkType,callback:function(t){e.$set(e.formInline,"checkType",t)},expression:"formInline.checkType"}},[r("el-radio",{attrs:{label:"1"}},[e._v("供（我要卖）")]),r("el-radio",{attrs:{label:"2"}},[e._v("需（我要买）")])],1)],1),r("el-form-item",{attrs:{label:"发布人：",prop:"name"}},[r("el-input",{attrs:{placeholder:"选填"},model:{value:e.formInline.publisher,callback:function(t){e.$set(e.formInline,"publisher",t)},expression:"formInline.publisher"}})],1),r("el-form-item",{attrs:{label:"业务类型",prop:"resource"}},[r("el-radio-group",{model:{value:e.formInline.bussinessType,callback:function(t){e.$set(e.formInline,"bussinessType",t)},expression:"formInline.bussinessType"}},[r("el-radio",{attrs:{label:"1"}},[e._v("技术合同登记")]),r("el-radio",{attrs:{label:"2"}},[e._v("科技成果认定登记")])],1)],1),r("el-form-item",[r("el-button",{staticClass:"btnColorOrg btnQueryList",on:{click:function(t){return e.loadOrderData()}}},[e._v("查询")])],1)],1),r("el-row",{staticStyle:{"margin-bottom":"32px"}},[r("el-col",[r("el-button",{staticClass:"btnColorOrg btnQueryList",on:{click:function(t){return e.handleArgee(void 0)}}},[e._v("一键通过")]),r("el-button",{staticClass:"btnColorBlue btnQueryList",attrs:{type:"primary"},on:{click:function(t){return e.handleDisAgree(void 0)}}},[e._v("一键驳回")])],1)],1),r("el-table",{staticClass:"allTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),r("el-table-column",{attrs:{fixed:"",label:"编码",type:"index",width:"50"}}),r("el-table-column",{attrs:{fixed:"",prop:"serverName",label:"服务标题","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"bussinessName",label:"业务类型"}}),r("el-table-column",{attrs:{prop:"checkTypeName",label:"供/需"}}),r("el-table-column",{attrs:{prop:"originalPrice",label:"原价"}}),r("el-table-column",{attrs:{prop:"price",label:"售价"}}),r("el-table-column",{attrs:{prop:"budget",label:"预算"}}),r("el-table-column",{attrs:{prop:"publisher",label:"发布人/企业"}}),r("el-table-column",{attrs:{prop:"contactName",label:"联系人"}}),r("el-table-column",{attrs:{prop:"contactPhone",label:"联系方式"}}),r("el-table-column",{attrs:{prop:"contactUnit",label:"联系单位"}}),r("el-table-column",{attrs:{prop:"keyWord",label:"关键字"}}),r("el-table-column",{attrs:{prop:"remark",label:"详情介绍"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{color:"#024ECC",cursor:"pointer"},on:{click:function(r){return e.showCt(t.row.remark)}}},[e._v("预览")])]}}])}),r("el-table-column",{attrs:{prop:"address",label:"所在地"}}),r("el-table-column",{attrs:{label:"状态",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[void 0==t.row.auditStatus||0==t.row.auditStatus?[e._v(" 待审核 ")]:e._e(),1==t.row.auditStatus?[e._v(" 通过 ")]:e._e(),2==t.row.auditStatus?[e._v(" 驳回 ")]:e._e()]}}])}),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"btnColorOrg btnUser",staticStyle:{width:"58px"},attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.handleArgee(t.row)}}},[e._v("通过")]),r("el-button",{staticClass:"btnColorBlue btnUser",attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.handleDisAgree(t.row)}}},[e._v("驳回")])]}}])})],1),r("div",{staticClass:"pageWrap",staticStyle:{"text-align":"center"}},[r("el-pagination",{staticClass:"pageBox",attrs:{background:"",layout:"prev, pager, next","page-size":e.formInline.pageSize,"current-page":e.formInline.curPage,total:e.pageTotal},on:{"current-change":e.currentChange}})],1)],1),r("el-dialog",{attrs:{title:"内容预览",visible:e.showHtmlCt,width:"60%"},on:{"update:visible":function(t){e.showHtmlCt=t}}},[r("div",{domProps:{innerHTML:e._s(e.shtml)}})])],1)},n=[],s=(r("4160"),r("a15b"),r("159b"),r("95c8")),l=r("861c"),o=r("7984"),i=r("b4e6"),c={name:"techologySupplyList",data:function(){return{showHtmlCt:!1,formInline:{checkType:"",bussinessType:"",publisher:null,pageSize:3,curPage:1,auditStatus:0},pageTotal:0,leixinselect:[{value:"1",label:"类型"}],tableData:[{id:"",serverName:"",checkTypeName:"",originalPrice:"",price:"",budget:"",businessName:"",publisher:"",contactName:"",contactPhone:"",contactUnit:"",remark:"",keyWord:"",address:""}],shtml:"",productSelect:""}},created:function(){var e=this;Object(o["a"])().then((function(t){e.leixinselect=t.data})),this.loadOrderData()},methods:{handleSelectionChange:function(e){this.productSelect=e},showCt:function(e){this.shtml=e,this.showHtmlCt=!0},currentChange:function(e){this.formInline.curPage=e,this.loadOrderData()},loadOrderData:function(){var e=this;Object(l["b"])(this.formInline).then((function(t){e.tableData=t.data,e.pageTotal=t.page.counts}))},handleArgee:function(e){var t=this;if(void 0==e&&this.productSelect.length<1)this.$message.warning("请勾选需要操作的数据!");else{var r=[];e?r.push(e.id):this.productSelect.forEach((function(e){r.push(e.id)}));var a={type:1,idList:r.join(",")};Object(l["d"])(a).then((function(r){r.data?t.$message.success("成功通过!"):t.$message.error("通过失败!"),t.loadOrderData();var a={userId:e.id,productId:null,content:"尊敬的用户,您您发布的产品:"+e.serverName+"已通过！",msgType:3};Object(i["i"])(a).then((function(e){}));var n={operateName:t.$store.getters.userName,operateId:t.$store.getters.backUserId,content:void 0==e?"对技术合同下的产品进行了批量审核为通过":"对技术合同下的产品("+e.serverName+")进行了审核为通过"};Object(s["e"])(n).then()}))}},handleDisAgree:function(e){var t=this;if(void 0==e&&this.productSelect.length<1)this.$message.warning("请勾选需要操作的数据!");else{var r=[];e?r.push(e.id):this.productSelect.forEach((function(e){r.push(e.id)}));var a={type:2,idList:r.join(",")};this.$prompt("请输入驳回原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"btnColorOrg",confirmButtonClass:"btnColorBlue"}).then((function(r){var n=r.value;Object(l["d"])(a).then((function(r){if(r.data?t.$message.success("成功驳回!"):t.$message.error("驳回失败!"),t.loadOrderData(),e){var a={userId:e.userId,productId:e.id,content:"尊敬的用户,您发布的:"+e.serverName+"被驳回。原因如下:"+n+"!",msgType:3};Object(i["i"])(a).then((function(e){}))}var l={operateName:t.$store.getters.userName,operateId:t.$store.getters.backUserId,content:void 0==e?"对技术合同下的产品进行了批量审核为驳回":"对技术合同下的产品("+e.serverName+")进行了审核为驳回"};Object(s["e"])(l).then()}))})).catch((function(){t.$message({type:"info",message:"取消输入"})}))}}}},u=c,p=r("2877"),d=Object(p["a"])(u,a,n,!1,null,"acc0e354",null);t["default"]=d.exports},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("44ad"),s=r("fc6a"),l=r("b301"),o=[].join,i=n!=Object,c=l("join",",");a({target:"Array",proto:!0,forced:i||c},{join:function(e){return o.call(s(this),void 0===e?",":e)}})},b4e6:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"f",(function(){return p})),r.d(t,"i",(function(){return d}));var a=r("dad6");function n(e){return Object(a["a"])({url:"/api/userApi/userManage/getUserList",params:e,method:"get"})}function s(e){return Object(a["a"])({url:"/api/userApi/userManage/editUser",params:e,method:"post"})}function l(e){return Object(a["a"])({url:"/api/userApi/userManage/deleteUserList",params:e,method:"post"})}function o(e){return Object(a["a"])({url:"/api/userApi/userManage/getAuditUserList",params:e,method:"get"})}function i(e){return Object(a["a"])({url:"/api/userApi/userManage/infoAudit",params:e,method:"post"})}function c(e){return Object(a["a"])({url:"/api/userApi/bhwUser/qryUser",params:e,method:"get"})}function u(e){return Object(a["a"])({url:"/api/userApi/bhwUser/qryUserMemberList",params:e,method:"get"})}function p(e){return Object(a["a"])({url:"/api/userApi/bhwUser/pushUserMemberMsg",params:e,method:"post"})}function d(e){return Object(a["a"])({url:"/api/userApi/userSysMsg/saveMsg",params:e,method:"post"})}}}]);
//# sourceMappingURL=chunk-169219a9.38b81adf.js.map