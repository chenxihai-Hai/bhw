(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-495560e6"],{"1cf2":function(e,t,a){"use strict";var l=a("45ce"),r=a.n(l);r.a},"397f":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"person",staticStyle:{padding:"22px 16px"}},[a("div",{staticClass:"bgColorF",staticStyle:{padding:"38px 25px"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formSearch}},[a("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"allIpt",staticStyle:{width:"150px"},attrs:{placeholder:"请输入"},model:{value:e.formSearch.userId,callback:function(t){e.$set(e.formSearch,"userId",t)},expression:"formSearch.userId"}})],1),a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"allIpt",attrs:{placeholder:"请输入"},model:{value:e.formSearch.userName,callback:function(t){e.$set(e.formSearch,"userName",t)},expression:"formSearch.userName"}})],1),a("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"allIpt",attrs:{placeholder:"请输入"},model:{value:e.formSearch.phone,callback:function(t){e.$set(e.formSearch,"phone",t)},expression:"formSearch.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"allIpt",attrs:{placeholder:"请输入"},model:{value:e.formSearch.emall,callback:function(t){e.$set(e.formSearch,"emall",t)},expression:"formSearch.emall"}})],1),a("el-form-item",{attrs:{label:"认证","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"allSelect",staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.formSearch.statusId,callback:function(t){e.$set(e.formSearch,"statusId",t)},expression:"formSearch.statusId"}},e._l(e.statusData,(function(e){return a("el-option",{key:e.statusId,attrs:{label:e.statusName,value:e.statusId}})})),1)],1),a("el-form-item",{attrs:{label:"用户类型","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"allSelect",staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.formSearch.userType,callback:function(t){e.$set(e.formSearch,"userType",t)},expression:"formSearch.userType"}},e._l(e.userTypeData,(function(e){return a("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})})),1)],1),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"allSelect",staticStyle:{width:"150px","margin-right":"40px"},attrs:{placeholder:"请选择"},model:{value:e.formSearch.sex,callback:function(t){e.$set(e.formSearch,"sex",t)},expression:"formSearch.sex"}},e._l(e.sexList,(function(e){return a("el-option",{key:e.sexId,attrs:{label:e.sexName,value:e.sexId}})})),1)],1),a("el-form-item",[a("el-button",{staticClass:"btnColorOrg btnAdvert",attrs:{type:"primary"},on:{click:e.btnSearch}},[e._v("查询")])],1)],1),a("div",{staticStyle:{margin:"20px 20px 0"}},[a("el-button",{staticClass:"btnNoBgdOrg btnDelMore",staticStyle:{"margin-bottom":"20px"},on:{click:e.deleteList}},[e._v("批量删除")]),a("el-table",{staticClass:"allTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{type:"index",label:"ID",width:"50"}}),a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),a("el-table-column",{attrs:{label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.type?"商家用户":"普通企业用户"))]}}])}),a("el-table-column",{attrs:{label:"认证"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.status?"已认证":"未认证"))]}}])}),a("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"129px",height:"78px"},attrs:{src:e.row.photo,alt:""}})]}}])}),a("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.sex?"男":"女"))]}}])}),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),a("el-table-column",{attrs:{prop:"name",label:"真实姓名"}}),a("el-table-column",{attrs:{label:"操作",width:"155"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btnColorOrg btnUser",on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑 ")]),a("el-button",{staticClass:"btnColorBlue btnUser",attrs:{type:"primary"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("div",{staticClass:"pageWrap"},[a("el-pagination",{staticClass:"pageBox",attrs:{"current-page":e.formSearch.curPage,"page-size":e.formSearch.pageSize,layout:"total,prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.formSearch,"curPage",t)},"update:current-page":function(t){return e.$set(e.formSearch,"curPage",t)}}})],1)],1)],1),a("el-dialog",{staticClass:"allDialog",attrs:{title:"编辑用户",visible:e.dialogEditFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogEditFormVisible=t}}},[a("el-form",{staticClass:"demo-form",attrs:{model:e.editForm}},[a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:e.editForm.userName,callback:function(t){e.$set(e.editForm,"userName",t)},expression:"editForm.userName"}})],1),a("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:e.editForm.phoneNo,callback:function(t){e.$set(e.editForm,"phoneNo",t)},expression:"editForm.phoneNo"}})],1),a("el-form-item",{attrs:{label:"邮箱号","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:e.editForm.emall,callback:function(t){e.$set(e.editForm,"emall",t)},expression:"editForm.emall"}})],1),a("el-form-item",{staticClass:"uploadBox",attrs:{label:"头像","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/userApi/fileUpload/upload","on-preview":e.handlePreview,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"file-list":e.fileList,"list-type":"picture"}},[a("el-button",{staticClass:"btnColorOrg",attrs:{size:"small",type:"primary"}},[e._v("上传头像")])],1)],1),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[e._v("男")]),a("el-radio",{attrs:{label:"2"},model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[e._v("女")])],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"padding-bottom":"20px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btnColorOrg btnUser",attrs:{type:"primary"},on:{click:e.saveInfo}},[e._v("保存")]),a("el-button",{staticClass:"btnColorBlue btnUser",on:{click:function(t){e.dialogEditFormVisible=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{staticClass:"allDialog",attrs:{title:"删除用户",visible:e.dialogDelFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelFormVisible=t}}},[a("div",{staticClass:"delBox"},[a("h3",[e._v("敏感操作，请验证口令")]),a("div",{staticStyle:{"text-align":"center"}},[a("el-input",{staticClass:"iptTxt",staticStyle:{width:"231px"},attrs:{placeholder:"请输入正确口令"}})],1)]),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center","padding-bottom":"50px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btnColorOrg btnDiaDel",attrs:{type:"primary"},on:{click:e.btnDelSure}},[e._v("确定")]),a("el-button",{staticClass:"btnColorBlue btnDiaDel",on:{click:function(t){e.dialogDelFormVisible=!1}}},[e._v("取消")])],1)])],1)},r=[],s=(a("c975"),a("ac1f"),a("5319"),a("95c8")),o=a("b4e6"),i={name:"company",data:function(){return{userID:0,pageTotal:0,dialogEditFormVisible:!1,dialogDelFormVisible:!1,formLabelWidth:"80px",statusData:[{statusId:1,statusName:"已认证"},{statusId:2,statusName:"未认证"}],userTypeData:[{typeId:2,typeName:"普通用户"},{typeId:1,typeName:"商家用户"}],sexList:[{sexId:1,sexName:"男"},{sexId:2,sexName:"女"}],formSearch:{userId:"",userName:null,phone:null,email:null,statusId:null,userType:null,sex:null,type:2,curPage:1,pageSize:10},tableData:[],editForm:{userName:null,phoneNo:null,emall:null,photo:null,sex:null,id:""},fileList:[{url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],deleteForm:{idList:null,type:2}}},mounted:function(){this.btnSearch()},methods:{handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.formSearch.curPage=e,this.btnSearch()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.formSearch.curPage=e,this.btnSearch()},handleEdit:function(e,t){this.editForm=t,this.editForm.phoneNo=t.phone,this.dialogEditFormVisible=!0},handleDelete:function(e,t){var a=this;console.log(e,t),this.deleteForm.idList=t.id,this.$confirm("确认删除该信息","确认",{confirmButtonText:"确认",cancelButtonText:"关闭",cancelButtonClass:"btnColorOrg",confirmButtonClass:"btnColorBlue",type:"warning"}).then((function(){Object(o["a"])(a.deleteForm).then((function(e){var l={operateName:a.$store.getters.userName,operateId:a.$store.getters.backUserId,content:"在用户管理下删除了企业用户"+t.userName};Object(s["e"])(l).then(),e.data?a.$message.info("删除成功"):a.$message.error("删除失败"),a.btnSearch()}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},handlePreview:function(e){console.log(e)},handleSuccess:function(e){this.editForm.photo=e.data,this.editForm.photo.indexOf("-zip")>-1&&(this.editForm.photo=this.editForm.photo.replace("-zip",""))},handleSelectionChange:function(e){if(1==e.length)this.deleteForm.idList=e[0].id;else{this.deleteForm.idList=e[0].id;for(var t=1;t<e.length;t++)this.deleteForm.idList+=","+e[t].id}},deleteList:function(){var e=this;this.$confirm("确认删除该信息","确认",{confirmButtonText:"确认",cancelButtonText:"关闭",cancelButtonClass:"btnColorOrg",confirmButtonClass:"btnColorBlue",type:"warning"}).then((function(){Object(o["a"])(e.deleteForm).then((function(t){var a={operateName:e.$store.getters.userName,operateId:e.$store.getters.backUserId,content:"在用户管理下批量删除了企业用户"};Object(s["e"])(a).then(),t.data?e.$message.info("删除成功"):e.$message.error("删除失败"),e.btnSearch()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},btnSearch:function(){var e=this;Object(o["d"])(this.formSearch).then((function(t){e.tableData=t.data,e.pageTotal=t.page.counts}))},btnDelSure:function(){var e=this;Object(o["a"])(this.deleteForm).then((function(t){t.data?e.$message.info("删除成功"):e.$message.error("删除失败"),e.btnSearch()}))},saveInfo:function(){var e=this;null==this.editForm.userName?this.$message.error("请输入用户名"):null==this.editForm.phoneNo?this.$message.error("请输入手机号"):null==this.editForm.emall?this.$message.error("请输入邮箱"):null==this.editForm.sex?this.$message.error("请选择性别"):Object(o["b"])(this.editForm).then((function(t){var a={operateName:e.$store.getters.userName,operateId:e.$store.getters.backUserId,content:"在用户管理下对企业用户"+e.editForm.userName+"进行了编辑"};Object(s["e"])(a).then(),t.data?e.$message.info("编辑成功"):e.$message.error("编辑失败"),e.btnSearch()}))}}},n=i,c=(a("1cf2"),a("2877")),u=Object(c["a"])(n,l,r,!1,null,"01dbcd58",null);t["default"]=u.exports},"45ce":function(e,t,a){},b4e6:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return n})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"i",(function(){return m}));var l=a("dad6");function r(e){return Object(l["a"])({url:"/api/userApi/userManage/getUserList",params:e,method:"get"})}function s(e){return Object(l["a"])({url:"/api/userApi/userManage/editUser",params:e,method:"post"})}function o(e){return Object(l["a"])({url:"/api/userApi/userManage/deleteUserList",params:e,method:"post"})}function i(e){return Object(l["a"])({url:"/api/userApi/userManage/getAuditUserList",params:e,method:"get"})}function n(e){return Object(l["a"])({url:"/api/userApi/userManage/infoAudit",params:e,method:"post"})}function c(e){return Object(l["a"])({url:"/api/userApi/bhwUser/qryUser",params:e,method:"get"})}function u(e){return Object(l["a"])({url:"/api/userApi/bhwUser/qryUserMemberList",params:e,method:"get"})}function d(e){return Object(l["a"])({url:"/api/userApi/bhwUser/pushUserMemberMsg",params:e,method:"post"})}function m(e){return Object(l["a"])({url:"/api/userApi/userSysMsg/saveMsg",params:e,method:"post"})}}}]);
//# sourceMappingURL=chunk-495560e6.be8a8c7f.js.map