(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49d5a5e0"],{3771:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listWarp",staticStyle:{padding:"22px 16px 0"}},[a("div",{staticClass:"bgColorF",staticStyle:{padding:"0 25px"}},[a("h3",[e._v("订单收益统计")]),a("el-form",{staticClass:"demo-form-inline",staticStyle:{margin:"33px 40px"},attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期选择"}},[a("el-checkbox-group",{attrs:{max:1},on:{change:e.checkboxGroupEv},model:{value:e.statuss,callback:function(t){e.statuss=t},expression:"statuss"}},[a("el-checkbox",{attrs:{label:"0"}},[e._v("今天")]),a("el-checkbox",{attrs:{label:"1"}},[e._v("本周")]),a("el-checkbox",{attrs:{label:"2"}},[e._v("本月")]),a("el-checkbox",{attrs:{label:"3"}},[e._v("今年")]),a("el-checkbox",{attrs:{label:"4"}},[e._v("全部")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.excelBtn}},[e._v("导出excel")])],1)],1),a("el-row",[a("el-col",[a("el-table",{staticClass:"allTable",attrs:{data:e.orderList}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{label:"订单号",prop:"orderId",align:"center"}}),a("el-table-column",{attrs:{label:"购买人",prop:"buyerName",align:"center"}}),a("el-table-column",{attrs:{label:"订单金额/元",prop:"totalPrice",align:"center"}}),a("el-table-column",{attrs:{label:"产品",prop:"itemName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.dealType?[e._v(" "+e._s(t.row.itemName)+" ")]:1==t.row.dealType?[e._v(" T币 ")]:3==t.row.dealType?[e._v(" 开通增值服务 ")]:e._e()]}}])}),a("el-table-column",{attrs:{label:"商家名称",prop:"sellerName",align:"center"}})],1)],1)],1),a("el-row",{staticStyle:{"text-align":"center",margin:"30px auto 50px"}},[a("div",{staticClass:"pageWrap"},[a("el-pagination",{staticClass:"pageBox",attrs:{background:"",layout:"prev, pager, next","page-size":e.formInline.pageSize,"current-page":e.formInline.curPage,total:e.pageTotal},on:{"current-change":e.currentChange}})],1)])],1)])},n=[],i=(a("4160"),a("d81d"),a("0d03"),a("159b"),a("823d")),l={name:"orderEarnings",data:function(){return{statuss:[],formInline:{orderNum:null,pageSize:10,curPage:1,status:null},orderList:[],pageTotal:0}},created:function(){this.backQryOrderList()},methods:{excelBtn:function(){var e=this;Object(i["b"])({pageSize:1e6}).then((function(t){var r=t.data;r.forEach((function(e){1==e.dealType?e.itemName="T币":2==e.dealType&&(e.itemName="开通增值服务")})),a.e("chunk-ecc0bf92").then(function(){var t=a("4bf8"),n=t.export_json_to_excel,i=["订单号","购买人","订单金额","产品","商家名称"],l=["orderId","buyerName","totalPrice","itemName","sellerName"],s=r,o=e.formatJson(l,s);n(i,o,"订单收益统计")}.bind(null,a)).catch(a.oe)}))},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},dateAddDays:function(e,t){var a=t||new Date,r=new Date(1e3*(a/1e3+86400*e));return r},checkboxGroupEv:function(e){console.log(e),(void 0==e||e.length<1)&&(this.formInline.createTime=null,this.formInline.updateTime=null),this.backQryOrderList()},backQryOrderList:function(){var e=this;if(this.statuss.length>0)if("0"==this.statuss[0])this.formInline.createTime=this.dateAddDays(0).format("yyyy-MM-dd"),this.formInline.updateTime=this.dateAddDays(this.statuss[0]).format("yyyy-MM-dd");else if("1"==this.statuss[0]){var t=new Date,a=t.getDay()||7;t.setDate(t.getDate()-a+1),this.formInline.createTime=t.format("yyyy-MM-dd"),this.formInline.updateTime=this.dateAddDays(6,t).format("yyyy-MM-dd")}else if("2"==this.statuss[0]){var r=this.dateAddDays(0).format("yyyy-MM-dd"),n=new Date;this.formInline.createTime=r.substring(0,8)+"01",this.formInline.updateTime=r.substring(0,8)+new Date(n.getFullYear(),n.getMonth()+1,0).getDate()}else if("3"==this.statuss[0]){r=this.dateAddDays(0).format("yyyy-MM-dd"),n=new Date;this.formInline.createTime=r.substring(0,5)+"01-01",this.formInline.updateTime=r.substring(0,5)+"12-"+new Date(n.getFullYear(),12,0).getDate()}else this.formInline.createTime=null,this.formInline.updateTime=null;Object(i["b"])(this.formInline).then((function(t){e.orderList=t.data,e.pageTotal=t.page.counts}))},currentChange:function(e){this.formInline.curPage=e,this.backQryOrderList()}}},s=l,o=a("2877"),c=Object(o["a"])(s,r,n,!1,null,"8a99c10e",null);t["default"]=c.exports},"823d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return o}));var r=a("dad6");function n(e){return Object(r["a"])({url:"/api/serverManage/dw/backQryOrderList",params:e,method:"get"})}function i(e){return Object(r["a"])({url:"/api/userApi/userWallet/backQryPayDealList",params:e,method:"get"})}function l(e){return Object(r["a"])({url:"/api/payApi/order/upOrderCloseSt",params:e,method:"post"})}function s(e){return Object(r["a"])({url:"/api/userApi/userWallet/qryUserWithdrawList",params:e,method:"get"})}function o(e){return Object(r["a"])({url:"/api/userApi/userWallet/upUserWithdraw",params:e,method:"post"})}},d81d:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").map,i=a("d039"),l=a("1dde"),s=l("map"),o=s&&!i((function(){[].map.call({length:-1,0:1},(function(e){throw e}))}));r({target:"Array",proto:!0,forced:!s||!o},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-49d5a5e0.2997cd60.js.map